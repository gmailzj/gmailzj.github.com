<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>index</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0;}
table{border-collapse:collapse;border-spacing:0;}
fieldset,img{border:0;}
ol,ul{list-style:none;}
h1,h2,h3,h4,h5,h6{font-size:100%;}
b{font-weight:normal;}
button {cursor:pointer;}
body{font:normal 12px/20px Arial,\5B8B\4F53,\5FAE\8F6F\96C5\9ED1;color:#333;padding:2em;max-width: 1000px;margin:0 auto;}
input, select, form img, button,label,textarea{font-size:12px;vertical-align:middle;font-family:Tahoma;color:#daac79;}
a{text-decoration:none;}
a:hover{text-decoration:underline;}

html,body{min-height:100%;}
body{background-color:#F4F4F4; background-repeat:no-repeat;background-image:rgba(244,244,244,.1);}
body:before{
	content:""; background-color:#2A94C8; display:block; width:100%; height:3px; position:absolute; top:0; left:0;  box-shadow:0 1px 0 rgba(255,255,255,1);
	background-image:-webkit-linear-gradient(
		left, 
		rgba(213,255,43,1) 0%, 
		rgba(213,255,43,1) 33.3%, 
		rgba(255,142,56,1) 33.3%, 
		rgba(255,142,56,1) 66.6%, 
		rgba(82,189,255,1) 66.6%, 
		rgba(82,189,255,1) 100%
	);
}

h1,h2,h3,h4,h5,h6{ font-family:arial; text-shadow:0 1px 0 rgba(255,255,255,1); text-align:left; }
h2,h3,h4,h5,h6{margin:1em 0;}
h1{margin:30px 0;text-align:center;font-size: 36px}
h2{ color:#454545; font-size:24px; line-height:50px; height:50px; padding-left:10px; border-left:5px solid #98C408; text-shadow:0 1px 0 rgba(255,255,255,1); margin-bottom:20px;text-align:left;}}
h3{font-size:18px;line-height:24px;}
h4{font-size:14px;line-height:20px;}
h5{font-size:14px;line-height:20px;}
h6{font-size:14px;line-height:20px;}

p{font-size:14px; line-height:100%; font-family:\5FAE\8F6F\96C5\9ED1;line-height:20px;margin:1em 0;}
strong{font-weight:bolder;color:#204A63}
hr{border: 0;border-bottom: 1px solid #ffffff;border-top: 1px solid #ddd;margin: 30px 0}
code{padding:2px 4px;color:#d14;font-size:12px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;white-space:nowrap;background:#f7f7f9;border: 1px solid #e1e1e8;font-family: Menlo, Consolas, "Courier New", monospace;}
pre{display:block;padding:10px;margin:10px 0;line-height: 20px;word-break: break-all;word-wrap: break-word;white-space: pre;white-space: pre-wrap;background-color: #f5f5f5;border: 1px solid #ccc;border: 1px solid rgba(0, 0, 0, 0.15);-webkit-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;}
pre code{padding:0;border:0 none;white-space: pre;white-space: pre-wrap;}
blockquote{padding-left:10px;border-left:3px solid #D0E68A;color:#999}

ul{padding: 0;margin: 0 0 10px 10px; font-family:\5FAE\8F6F\96C5\9ED1;}
ul li{font-size:14px;line-height:20px;background-image: url(data:image/gif;base64,R0lGODlhBgAGAIABAIiIiP///yH5BAEAAAEALAAAAAAGAAYAAAIKjGEJyLvh0JHHFAA7);background-position: 0px 9px;background-repeat: no-repeat;padding: 0px 0px 0px 15px;}
ol{padding: 0;margin: 0 0 10px 25px; font-family:\5FAE\8F6F\96C5\9ED1;font-size:14px;}
ol{list-style-type: decimal;}

a{color:#07b;text-decoration: none;}
a:hover, a:active{color: #FF8E38;}

table{font-family:5B8B4F53;font-size:12px;}
table td,table th{border:1px solid #98bf21;text-align:center;padding:4px 8px;}
table tr:nth-child(2n+1) td{background-color:#EAF2D3;}

dl{font-size:14px;}
dl dt{font-weight:bold;}
dl dd{text-indent:2em;}

.navigation {width: 223px;float: left;overflow: hidden;margin-left: -253px;position: fixed;top: 0;}
.navigation dl {margin-top: 14px;border: 1px solid #ECECEC;width: 221px;background: #FDFDFD;text-indent: 32px;overflow: hidden;}
.navigation dt {height: 48px;font-family: 微软雅黑;font-size: 22px;line-height: 48px;}
.navigation dd {border-top: 1px solid #ECECEC;width: 221px;overflow: hidden;}
.navigation dl .on a {font-weight: bold;color: #06A0DC;}
.navigation dd a {display: block;width: 221px;height: 44px;line-height: 44px;position: relative;}
.navigation dd b {width: 0;height: 0;line-height: 0;font-size: 0;border: 3px dashed transparent;border-left-color: #959595;border-left-style: solid;position: absolute;left: 17px;top: 20px;}
.navigation dl .on b, .navigation dd a:hover b {border-top-color: #959595;border-top-style: solid;border-left-color: #FDFDFD;left: 15px;top: 22px;}
.navigation dl ul {padding: 0 19px;margin:0;height:0;}
.navigation dl .on ul {padding: 0 19px 0 10px;margin:0;border-top: 1px solid #ECECEC;display: block;height:auto;max-height:400px;background: #FFFFFF;overflow-y:auto;}
.navigation dl .on ul a {font-weight: normal;color: #4F4F4F;font-size: 12px;width: 184px;margin-top: -1px;overflow: hidden;text-overflow:ellipsis;white-space:nowrap;}
.navigation dl .on .on a {font-weight: bold;color: #06A0DC;}
.navigation dl .on ul b, .navigation .on ul a:hover b {width: 0;height: 0;line-height: 0;font-size: 0;border: 1px dashed transparent;border-color: #4F4F4F;border-style: solid;position: absolute;left: 0;top: 20px;}
.navigation dl ul li{list-style: none;margin:0;padding:0;text-indent: 12px;background: none;overflow: hidden;text-overflow:ellipsis;white-space:nowrap;}

.pln { color: #000 }  
@media screen {
  .str { color:#080 }  
  .kwd { color:#00008b }  
  .com { color:#800000 }  
  .typ { color:#2b91af }  
  .lit { color:#800000}  
  .pln{color:#000000;}
  .pun, .opn, .clo { color:#000000}
  .tag { color:#800000}  
  .atn { color:#ff0000}  
  .atv { color:#0000ff}  
  .dec, .var { color:#800080}  
  .fun { color: red }  
}

@media only screen and (max-width:1920px){
	body{max-width:1000px;}
}
@media only screen and (max-width:1440px){
	body{max-width:860px;}
}
@media only screen and (max-width:1280px){
	body{max-width:768px;}
}
</style>
<script>
//获取h2、h3数据
function createNav() {
	var h2 = document.getElementsByTagName('h2'),
		titles = [],
		subTitles = [];
	for (var i = 0; i < h2.length; i++) {
		titles[i] = h2[i].innerText;
		subTitles[i] = getSubTitle(h2[i])
		//h2[i].id = 'title_' + i;
	}
	//console.log(subTitles);
	buildUiNav(titles, subTitles);
}
//构建列表
function buildUiNav(data, dataSub) {
	var div = document.createElement('div');
	div.className = 'navigation';
	div.id = 'nav';
	var dl = '<dl><dt>目录</dt>';
	for (var i = 0; i < data.length; i++) {
		dl += '<dd><a href="javascript:" title="'+ data[i] +'"><b></b>'+ data[i] +'</a>';
		if (dataSub[i].length > 0) {
			dl += '<ul>';
			dl += buildUiNavSub(dataSub[i]);
			dl += '</ul>';
		}
		dl += '</dd>';
	}
	dl += '</dl>';
	div.innerHTML = dl;
	document.body.appendChild(div);
}
//构建二级列表
function buildUiNavSub(data) {
	var html = '';
	for (var i = 0; i < data.length; i++) {
		html += '<li><a href="#sub_title_'+ i +'" title="'+ data[i] +'"><b></b>'+ data[i] +'</a></li>';
	};
	return html;
}
//获得二级标题
function getSubTitle(h2) {
	var subTitles = [];
	var h3 = getH3(h2, []);
	console.log(h3);
	for (var i = 0; i < h3.length; i++) {
		subTitles[i] = h3[i].innerText;
		h3[i].id = 'sub_title_' + i;
	}
	return subTitles;
}
//递归获取h3标签，直到遇到下一个h2
function getH3(obj, arr) {
	var nextElement = getNextElement(obj);
	var h3 = nextElement.tagName == 'H3' ? nextElement : nextElement.getElementsByTagName('H3');
	arr = arr.concat(h3);
	if (getNextElement(nextElement)) {
		if (getNextElement(nextElement).tagName != 'H2' && getNextElement(nextElement).nodeType == 1) {
			return getH3(nextElement, arr);
		}
	}
	return arrayDownLevel(arr);
}
//获取下一个dom节点
function getNextElement(obj) {
	var ret = null;
	if (obj.nextSibling) {
		ret = obj.nextSibling.nodeType == 1 ? ret = obj.nextSibling : getNextElement(obj.nextSibling);
	}
	return ret;
}
//数组降维2变1
function arrayDownLevel(arr) {
	var ret = [];
	for (var i = 0; i < arr.length; i++) {
		for (var j = 0; j < arr[i].length; j++) {
			ret.push(arr[i][j]);
		};
	};
	return ret;
}
//绑定事件
function addEvent() {
	var obj = document.getElementById('nav');
	//console.log(obj);
	var dd = obj.getElementsByTagName('dd');
	var li = obj.getElementsByTagName('li');
	for (var i = 0; i < dd.length; i++) {
		dd[i].addEventListener('click',function() {
			clickDd(this);
		}, false);
	};
	for (var i = 0; i < li.length; i++) {
		li[i].addEventListener('click',function() {
			clickLi(this);
		}, false);
	};
}
//点击一级标题
function clickDd(obj) {
	var cls = obj.className;
	resetClass(obj, 'dd');
	if (cls == 'on') {
		obj.className = '';
	}
	else {
		obj.className = 'on';
	}
}
//点击二级标题
function clickLi(obj) {
	resetClass(obj, 'li');
	var cls = obj.className;
	if (cls != 'on') {
		obj.className = 'on';
	}
	event.stopPropagation();
}
//重置class
function resetClass(obj, tag) {
	for (var i = 0; i < obj.parentNode.getElementsByTagName(tag).length; i++) {
		obj.parentNode.getElementsByTagName(tag)[i].className = '';
	};
}
window.onload = function() {
	createNav();
	addEvent();
}
</script>
</head>
<body>
<h2><a href="http://www.jian163.com/datepicker/demo.html">日历选择器</a></h2>
<h2><a href="http://www.jian163.com/pager/">前端分页</a></h2>
<h2><a href="http://www.jian163.com/imgplayerAndAjaxpager/">图片播放器</a></h2>
<h2><a href="http://www.jian163.com/markdown/">markdown文档</a></h2>
<h2><a href="https://github.com/gmailzj">我的GitHub</a></h2>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
