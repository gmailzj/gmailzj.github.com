<?php  
class RunTime//页面执行时间类 
{ 
  private $starttime;//页面开始执行时间 
	private $stoptime;//页面结束执行时间 
	private $spendtime;//页面执行花费时间 
	function getmicrotime()//获取返回当前微秒数的浮点数 
	{ 
		list($usec,$sec)=explode(" ",microtime()); 
		return ((float)$usec + (float)$sec); 
	} 
	function start()//页面开始执行函数，返回开始页面执行的时间 
	{ 
		$this->starttime=$this->getmicrotime(); 
	} 
	function end()//显示页面执行的时间 
	{ 
		$this->stoptime=$this->getmicrotime(); 
		$this->spendtime=$this->stoptime-$this->starttime; 
		//return round($this->spendtime,10); 
	} 
	function display()
	{
	    //$this->end();            
	    echo "<p>执行该段代码花费时间".sprintf("%f",round($this->spendtime,6))."秒</p>";
	}
} 
/*调用方法   
$timer=new Runtime(); 
$timer->start(); 
*/


/*
 * microsecond 微秒     millisecond 毫秒
 *返回时间戳的毫秒数部分
 */
function get_millisecond()
{
	list($usec, $sec) = explode(" ", microtime());
	$msec=round($usec*1000);
	return $msec;
	
}

/*
 *
 *返回字符串的毫秒数时间戳
 */
function get_total_millisecond()
{
	$time = explode (" ", microtime () );  
	$time = $time [1] . ($time [0] * 1000);  
	$time2 = explode ( ".", $time );  
	$time = $time2 [0]; 
	return $time; 
}

/*
 *
 *返回当前 Unix 时间戳和微秒数(用秒的小数表示)浮点数表示，常用来计算代码段执行时间
 */

function microtime_float()
{
    list($usec, $sec) = explode(" ", microtime());
    return ((float)$usec + (float)$sec);
}




?>
 
